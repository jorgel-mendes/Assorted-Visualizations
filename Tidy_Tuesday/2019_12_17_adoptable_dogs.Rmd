---
title: "Tidy Tuesday 17/12/2019"
output:
  github_document: 
    df_print: tibble
always_allow_html: yes
editor_options: 
  chunk_output_type: inline
---

```{r opts, echo = FALSE}
figs_path <- paste0(here::here("docs", "assets", "images"),"/")
knitr::opts_chunk$set(
  fig.path = figs_path
)
```

# Data description

From From [TidyTuesdays github](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-12-17):

>This week’s data is from [The Pudding](https://github.com/the-pudding/data/blob/master/dog-shelters/README.md). The data was cleaned, collected and story written by [Amber Thomas](https://twitter.com/proquesasker), with design by [Sacha Maxim](https://twitter.com/sacha_maxim).
>
Their article [Finding Forever Homes](https://pudding.cool/2019/10/shelters/) examines data on all adoptable dogs from [Petfinder.com](https://www.petfinder.com/) in the USA on `2019-09-20`.
>
There are a number of datasets, where the `dog_travel` and `dog_descriptions` datasets can be joined via the common id column.
>
The premise of the story in Amber's own words:
>
>> "If you’re looking to add a new furry friend to your family, you may be encouraged to “adopt not shop”. That is, to find a new dog at a local shelter or rescue organization rather than a pet store or breeder.
>> 
>> But where do adoptable dogs come from?"

# Packages and data reading

```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(waffle)
library(tidytext)

dog_travel <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-17/dog_travel.csv')
dog_descriptions <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-17/dog_descriptions.csv')
```

# Quick look

```{r}
dog_travel %>% glimpse()
```

```{r}
dog_descriptions %>% glimpse()
```


# Dog breed


```{r}
dog_descriptions %>% 
  select(starts_with("breed")) %>% 
  transmute(breed_category = case_when(
    breed_unknown ~ "Unknown Breed",
    breed_mixed ~ "Mixed Breed",
    TRUE ~ "Pure Breed"
  )) %>% 
  count(breed_category) %>% 
  mutate(n = round(n/sum(n)*100)) %>% 
  ggplot(aes(label = breed_category, values = n)) +
  geom_pictogram(aes(color = breed_category),
                 n_rows = 10, size =6,
                 family = "Font Awesome 5 Free Solid") +
  scale_label_pictogram(values = c("dog", "dog")) +
  scale_color_brewer(type = "qualitative", palette = "Pastel1") +
  hrbrthemes::theme_ipsum_rc(grid="") +
  theme_enhance_waffle() +
  labs(
    color = "",
    label = "",
    title = "Breed of adoptable dogs on Petfinder",
    caption = "by @jorgelsm for #TidyTuesday"
  ) +
  theme(legend.position = "top",
        legend.box.spacing = element_blank(),
        text = element_text(color = "gray30"))
```

